function e(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var t=0;function r(e){return"__private_"+t+++"_"+e}var n=/*#__PURE__*/r("items"),o=/*#__PURE__*/r("withResolvers");class s{constructor(){Object.defineProperty(this,n,{writable:!0,value:new Set})}send(t){for(const r of e(this,n)[n])r.push(e(s,o)[o]()),r[r.length-2].resolve({done:!1,value:t})}close(){for(const t of e(this,n)[n])t[t.length-1].resolve({done:!0,value:void 0}),e(this,n)[n].delete(t)}[Symbol.asyncIterator](){let t=this,r=new Array(e(s,o)[o]());return e(t,n)[n].add(r),{next:async()=>(r.length>1&&r.shift(),r[0].promise),return:o=>(e(t,n)[n].delete(r),Promise.resolve({done:!0,value:o}))}}}Object.defineProperty(s,o,{value:function(){let e,t;const r=new Promise((r,n)=>{e=r,t=n});return{resolve:e,reject:t,promise:r}}});export{s as Channel};
//# sourceMappingURL=index.modern.js.map
